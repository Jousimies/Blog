<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2024-10-13 Sun 09:31 -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Org 中快速插入 Heading</title>
<meta name="author" content="Jousimie" />
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="/css/style.css" />
         <script src="js/copy.js"></script> 
</head>
<body>
<div id="preamble" class="status">
<a href="/index.html" class="button">Home</a>
               <a href="/posts/index.html" class="button">Posts</a>
               <a href="/Structure/index.html" class="button">建筑结构设计</a>
               <a href="/about.html" class="button">About</a>
               <hr>
</div>
<div id="content" class="content">
<header>
<h1 class="title">Org 中快速插入 Heading</h1>
</header><p>
在 org 文中可以对 Heading 进行链接，通过此链接可以跳转到对应的 heading 上。其在 org 中的术语是 Internal links。
</p>

<p>
虽然 heading 很好用，但是插入 Heading 却显得有点不是很方便。
</p>

<p>
下面是我的流程：
</p>

<p>
使用 Evil ，通过 <code>gh</code> 调用 <code>consult-outline</code> ，移动到指定的 Heading ，然后通过 <code>C-.</code> 调用 <code>embark-act</code> ，在弹出的界面上按 <code>h</code> 插入对应的 Heading 。
</p>

<p>
其中 h 按键对应的命令是：
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun consult-outline-insert-heading (target)
  (let* ((marker (plist-get
                  (text-properties-at 0 target)
                  'consult--candidate))
         (headline-name (org-entry-get nil "ITEM")))
    (org-insert-link nil headline-name)))

(with-eval-after-load 'embark
  (define-key embark-general-map (kbd "h") #'consult-outline-insert-heading))
</pre>
</div>
</div>
<div id="postamble" class="status">
<hr><div class="info"> <span class="created">Created with <a href="https://www.gnu.org/software/emacs/">Emacs</a> 30.0.90 (<a href="https://orgmode.org">Org</a> mode 9.7.11) on MacOS</span>
 <span class="updated">Updated: 2023-04-19 Wed 10:38</span> </div>
</div>
</body>
</html>
