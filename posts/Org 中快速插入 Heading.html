<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2023-04-18 Tue 19:24 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Org 中快速插入 Heading</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="../css/style.css" />
</head>
<body>
<div id="preamble" class="status">
<a href="/index.html" class="button">Home</a>
               <a href="/posts/index.html" class="button">Posts</a>
               <a href="/about.html" class="button">About</a>
               <hr>
</div>
<div id="content" class="content">
<h1 class="title">Org 中快速插入 Heading</h1>
<p>
在 org 文中可以对 Heading 进行链接，通过此链接可以跳转到对应的 heading 上。其在 org 中的术语是 Internal links。
</p>

<p>
虽然 heading 很好用，但是插入 Heading 却显得有点不是很方便。
</p>

<p>
下面是我的流程：
</p>

<p>
使用 Evil ，通过 <code>gh</code> 调用 <code>consult-outline</code> ，移动到指定的 Heading ，然后通过 <code>C-.</code> 调用 <code>embark-act</code> ，在弹出的界面上按 <code>h</code> 插入对应的 Heading 。
</p>

<p>
其中 h 按键对应的命令是：
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #ffffff;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">consult-outline-insert-heading</span> <span style="color: #ff66ff;">(</span>target<span style="color: #ff66ff;">)</span>
  <span style="color: #ff66ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">let*</span> <span style="color: #00eff0;">(</span><span style="color: #ff6b55;">(</span>marker <span style="color: #efef00;">(</span>plist-get
                  <span style="color: #b6a0ff;">(</span>text-properties-at 0 target<span style="color: #b6a0ff;">)</span>
                  'consult--candidate<span style="color: #efef00;">)</span><span style="color: #ff6b55;">)</span>
         <span style="color: #ff6b55;">(</span>headline-name <span style="color: #efef00;">(</span>org-entry-get nil <span style="color: #79a8ff;">"ITEM"</span><span style="color: #efef00;">)</span><span style="color: #ff6b55;">)</span><span style="color: #00eff0;">)</span>
    <span style="color: #00eff0;">(</span>org-insert-link nil headline-name<span style="color: #00eff0;">)</span><span style="color: #ff66ff;">)</span><span style="color: #ffffff;">)</span>

<span style="color: #ffffff;">(</span><span style="color: #b6a0ff; font-weight: bold;">with-eval-after-load</span> 'embark
  <span style="color: #ff66ff;">(</span>define-key embark-general-map <span style="color: #00eff0;">(</span>kbd <span style="color: #79a8ff;">"h"</span><span style="color: #00eff0;">)</span> #'consult-outline-insert-heading<span style="color: #ff66ff;">)</span><span style="color: #ffffff;">)</span>
</pre>
</div>
</div>
<div id="postamble" class="status">
<hr><div class="generated">Created with <a href="https://www.gnu.org/software/emacs/">Emacs</a> 30.0.50 (<a href="https://orgmode.org">Org</a> mode 9.6.3) on MacOS</div>
</div>
</body>
</html>